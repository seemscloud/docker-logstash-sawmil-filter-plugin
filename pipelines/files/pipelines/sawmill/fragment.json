{
  "steps": [
    {
      "rename": {
        "config": {
          "from": "message",
          "to": "@message"
        }
      }
    },
    {
      "gsub": {
        "config": {
          "field": "foo",
          "pattern": "#",
          "replacement": "!"
        }
      }
    },
    {
      "kv": {
        "config": {
          "field": "@message",
          "fieldSplit": " ",
          "valueSplit": ":",
          "includeKeys": [
            "a",
            "b"
          ],
          "tagOfFailure": [
            "dupa"
          ]
        },
        "onSuccess": [
          {
            "addTag": {
              "config": {
                "tags": [
                  "success/kv"
                ]
              }
            }
          }
        ],
        "onFailure": [
          {
            "addTag": {
              "config": {
                "tags": [
                  "fail/kv"
                ]
              }
            }
          }
        ]
      }
    }
  ]
}